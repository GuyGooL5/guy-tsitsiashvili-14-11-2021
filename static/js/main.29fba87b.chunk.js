(this["webpackJsonpguy-tsitsiashvili-14-11-2021"]=this["webpackJsonpguy-tsitsiashvili-14-11-2021"]||[]).push([[0],{114:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,s,u=n(0),l=n.n(u),d=n(33),j=n.n(d),b=(n(114),n(19)),h=n.n(b),f=n(25),O=n(61),x=n(92),m=n(198),v=n(189),p=n(41),g=n(16),y={accuWeatherAPIKey:Object({NODE_ENV:"production",PUBLIC_URL:"/guy-tsitsiashvili-14-11-2021",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ACCU_WEATHER_API_KEY:"98BR1SDCQOp9RFvpERSGcAjDdoqgY1QR"}).REACT_APP_ACCU_WEATHER_API_KEY,defaultLocation:{Key:"215854",LocalizedName:"Tel Aviv"}},C=n(66),I=n(67),w=function(){function e(){Object(C.a)(this,e)}return Object(I.a)(e,null,[{key:"get",value:function(e){var t=localStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return null}}},{key:"set",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,r=t;a<r.length;a++){var c=r[a];localStorage.removeItem(c)}}}]),e}(),S={theme:null!==(a=w.get("theme"))&&void 0!==a?a:"default",unit:null!==(r=w.get("unit"))&&void 0!==r?r:"Metric",default_location:null!==(c=w.get("default_location"))&&void 0!==c?c:y.defaultLocation,show_night:(new Date).getHours()>17},k=Object(p.b)({name:"configuration",initialState:S,reducers:{set_theme:function(e,t){var n=t.payload;w.set("theme",n),e.theme=n},set_unit:function(e,t){var n=t.payload;w.set("unit",n),e.unit=n},set_default_location:function(e,t){var n=t.payload;w.set("default_location",n),e.default_location=n},set_night:function(e,t){var n=t.payload;e.show_night=n}}}),_=Object(g.a)({},k.actions),W=k.reducer,M=n(10),T=function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(M.a)(e,2);return[t[0],t[1].location]})))},A={favorites:(o=null!==(i=w.get("favorites"))&&void 0!==i?i:{},Object.fromEntries(Object.entries(o).map((function(e){var t=Object(M.a)(e,2);return[t[0],{location:t[1],currentCondition:null}]}))))},E=Object(p.b)({name:"favorites",initialState:A,reducers:{add_favorite:function(e,t){var n=t.payload;e.favorites[n.Key]={location:n,currentCondition:null},w.set("favorites",T(e.favorites))},set_current_condition:function(e,t){var n=t.payload;e.favorites[n.Key]?e.favorites[n.Key].currentCondition=n.currentCondition:console.error('Key "'.concat(n.Key,"\" doesn't exist on favorites slice, trying to set condition to nonexistent favorite"))},remove_favorite:function(e,t){var n=t.payload;delete e.favorites[n],w.set("favorites",T(e.favorites))}}}),P=Object(g.a)({},E.actions),K=E.reducer,D={location:null!==(s=w.get("default_location"))&&void 0!==s?s:y.defaultLocation,forecast:null},R=Object(p.b)({name:"forecast",initialState:D,reducers:{set_forecast:function(e,t){var n=t.payload;e.forecast=n},set_location:function(e,t){var n=t.payload;e.location=n}}}),F=Object(g.a)({},R.actions),N=R.reducer,L=Object(p.a)({reducer:{configuration:W,favorites:K,forecast:N}}),z=function(){return Object(O.b)()},H=O.c,U=n(93),V=n(14),q=n(181),G=n(182),B=n(211),J=n(196),Y=n(195),Q=n(202),X=n(206),Z=n(207),$=n(201),ee=n(200),te=n(168),ne=n(15),ae={1:{name:"Sunny",day:!0,night:!1,Icon:ne.f},2:{name:"Mostly Sunny",day:!0,night:!1,Icon:ne.f},3:{name:"Partly Sunny",day:!0,night:!1,Icon:ne.g},4:{name:"Intermittent Clouds",day:!0,night:!1,Icon:ne.g},5:{name:"Hazy Sunshine",day:!0,night:!1,Icon:ne.c},6:{name:"Mostly Cloudy",day:!0,night:!1,Icon:ne.b},7:{name:"Mostly Cloudy",day:!0,night:!0,Icon:ne.a},8:{name:"Dreary (Overcast)",day:!0,night:!0,Icon:ne.a},11:{name:"Fog",day:!0,night:!0,Icon:ne.i},12:{name:"Showers",day:!0,night:!0,Icon:ne.t},13:{name:"Mostly Cloudy w/ Showers",day:!0,night:!1,Icon:ne.d},14:{name:"Partly Sunny w/ Showers",day:!0,night:!1,Icon:ne.d},15:{name:"T-Storms",day:!0,night:!0,Icon:ne.y},16:{name:"Mostly Cloudy w/ T-Storms",day:!0,night:!1,Icon:ne.h},17:{name:"Partly Sunny w/ T-Storms",day:!0,night:!1,Icon:ne.h},18:{name:"Rain",day:!0,night:!0,Icon:ne.r},19:{name:"Flurries",day:!0,night:!0,Icon:ne.v},20:{name:"Mostly Cloudy w/ Flurries",day:!0,night:!1,Icon:ne.e},21:{name:"Partly Sunny w/ Flurries",day:!0,night:!1,Icon:ne.e},22:{name:"Snow",day:!0,night:!0,Icon:ne.v},23:{name:"Mostly Cloudy w/ Snow",day:!0,night:!1,Icon:ne.e},24:{name:"Ice",day:!0,night:!0,Icon:ne.w},25:{name:"Sleet",day:!0,night:!0,Icon:ne.u},26:{name:"Freezing Rain",day:!0,night:!0,Icon:ne.s},29:{name:"Rain and Snow",day:!0,night:!0,Icon:ne.s},30:{name:"Hot",day:!0,night:!0,Icon:ne.j},31:{name:"Cold",day:!0,night:!0,Icon:ne.w},32:{name:"Windy",day:!0,night:!0,Icon:ne.x},33:{name:"Clear",day:!1,night:!0,Icon:ne.k},34:{name:"Mostly Clear",day:!1,night:!0,Icon:ne.n},35:{name:"Partly Cloudy",day:!1,night:!0,Icon:ne.n},36:{name:"Intermittent Clouds",day:!1,night:!0,Icon:ne.l},37:{name:"Hazy Moonlight",day:!1,night:!0,Icon:ne.m},38:{name:"Mostly Cloudy",day:!1,night:!0,Icon:ne.l},39:{name:"Partly Cloudy w/ Showers",day:!1,night:!0,Icon:ne.o},40:{name:"Mostly Cloudy w/ Showers",day:!1,night:!0,Icon:ne.o},41:{name:"Partly Cloudy w/ T-Storms",day:!1,night:!0,Icon:ne.q},42:{name:"Mostly Cloudy w/ T-Storms",day:!1,night:!0,Icon:ne.p},43:{name:"Mostly Cloudy w/ Flurries",day:!1,night:!0,Icon:ne.q},44:{name:"Mostly Cloudy w/ Snow",day:!1,night:!0,Icon:ne.q}};function re(e){switch(e){case"light":return"light";case"dark":return"dark";case"default":default:return matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function ce(e){switch(e){case"NNE":return 22.5;case"NE":return 45;case"ENE":return 67.5;case"E":return 90;case"ESE":return 112.5;case"SE":return 135;case"SSE":return 157.5;case"S":return 180;case"SSW":return 202.5;case"SW":return 225;case"WSW":return 247.5;case"W":return 270;case"WNW":return 292.5;case"NW":return 315;case"NNW":return 337.5;case"N":default:return 0}}function ie(e){var t=e?ae[e]:{day:!0,night:!0},n=t.day,a=t.night;return n&&a?{background:"radial-gradient(circle, #e0ebef 0%, #b6c1c6 100%)",color:"#64767d"}:n?{background:"radial-gradient(circle, #ffedb2 0%, #ffe696 100%)",color:"#9a7400"}:{background:"radial-gradient(circle, #183a53 0%, #08263b 100%)",color:"#7599a9"}}var oe=function(e,t){return function(n,a){n(F.set_location(e)),a(null!==t&&void 0!==t?t:"/forecast/".concat(e.Key))}},se=n(199),ue=n(1);function le(e){var t=e.color,n=e.WeatherText,a=e.Temperature,r=e.WeatherIcon,c=Object(u.useMemo)((function(){return r?ae[r].Icon:null}),[r]);return Object(ue.jsxs)(se.a,{display:"block",children:[c&&Object(ue.jsx)(c,{size:128,color:t,style:{position:"absolute",paddingTop:16,paddingLeft:16}}),Object(ue.jsx)(ee.a,{variant:"h5",color:t,sx:{position:"relative",width:"100%",textAlign:"right",px:2,pt:2,pb:1},children:n}),Object(ue.jsxs)(ee.a,{variant:"h3",color:t,sx:{position:"relative",width:"100%",textAlign:"right",px:2,pt:1,pb:2},children:[a.Value,"\xb0",a.Unit]})]})}var de=function(e){var t=e.speed,n=e.unit,a=e.direction;return t?Object(ue.jsxs)(Y.a,{container:!0,children:[Object(ue.jsx)(Y.a,{item:!0,children:Object(ue.jsxs)(ee.a,{variant:"body1",children:[Object(ue.jsx)("span",{style:{fontWeight:700},children:"Wind: "}),t," ",n," "]})}),Object(ue.jsx)(Y.a,{item:!0,children:Object(ue.jsx)(te.a,{sx:{transform:"rotate(".concat(ce(a)-90,"deg)")}})}),Object(ue.jsx)(Y.a,{item:!0,alignSelf:"top",children:Object(ue.jsxs)(ee.a,{variant:"caption",fontWeight:700,children:[a," "]})})]}):null},je=function(e){var t=e.humidity;return Object(ue.jsxs)(ee.a,{variant:"body1",children:[Object(ue.jsx)("span",{style:{fontWeight:700},children:"Humidity: "}),t,"% "]})},be=function(e){var t=e.favorite,n=e.data,a=H((function(e){return e.configuration})).unit,r=Object(V.f)(),c=z(),i=Object(u.useMemo)((function(){return ie(n.WeatherIcon)}),[n.WeatherIcon]),o=i.background,s=i.color;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)($.a,{onClick:function(){oe(t)(c,r)},sx:{background:o},children:Object(ue.jsx)(le,{color:s,Temperature:{Value:n.Temperature[a].Value,Unit:n.Temperature[a].Unit},WeatherIcon:n.WeatherIcon,WeatherText:n.WeatherText})}),Object(ue.jsxs)(Q.a,{children:[n.Wind.Speed[a].Value&&Object(ue.jsx)(de,{speed:n.Wind.Speed[a].Value,unit:n.Wind.Speed[a].Unit,direction:n.Wind.Direction.English}),n.RelativeHumidity&&Object(ue.jsx)(je,{humidity:n.RelativeHumidity})]})]})},he=n(203);function fe(e){var t=e.error,n=e.onRemove;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(Q.a,{children:[Object(ue.jsx)(ee.a,{variant:"body1",textAlign:"center",fontWeight:700,children:"There was an error loading the resource"}),Object(ue.jsx)(ee.a,{variant:"subtitle1",textAlign:"center",children:t})]}),Object(ue.jsx)(he.a,{children:Object(ue.jsx)(J.a,{onClick:n,color:"error",children:"Remove"})})]})}var Oe=n(169),xe=n(170),me=n(204),ve=n(205);function pe(e){var t=e.title,n=e.editMode,a=e.loading,r=e.onRefresh,c=e.onRemove;return Object(ue.jsx)(me.a,{action:n?Object(ue.jsx)(ve.a,{color:"error",onClick:c,children:Object(ue.jsx)(Oe.a,{})}):!a&&Object(ue.jsx)(ve.a,{"aria-label":"retry",color:"primary",onClick:function(){return r&&r()},children:Object(ue.jsx)(xe.a,{})}),title:Object(ue.jsx)(ee.a,{variant:"h6",children:t})})}var ge=function(e,t){return function(){var n=Object(f.a)(h.a.mark((function n(a){var r,c,i,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new URLSearchParams([["apikey",y.accuWeatherAPIKey],["details","true"]]),t&&r.append("language",t),c="https://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?").concat(r.toString()),n.next=5,fetch(c);case 5:return i=n.sent,n.next=8,i.json();case 8:return o=n.sent[0],a(P.set_current_condition({Key:e,currentCondition:o})),n.abrupt("return",o);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ye=function(){return Object(ue.jsx)(Q.a,{sx:{textAlign:"center",flexGrow:1},children:Object(ue.jsx)(X.a,{size:128})})},Ce=function(e){var t=e.data,n=e.editMode,a=Object(u.useState)(""),r=Object(M.a)(a,2),c=r[0],i=r[1],o=Object(u.useState)(!1),s=Object(M.a)(o,2),l=s[0],d=s[1],j=z(),b=Object(u.useCallback)((function(){return j(P.remove_favorite(t.location.Key))}),[t.location.Key,j]),O=Object(u.useCallback)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),d(!0),e.prev=2,e.next=5,ge(t.location.Key)(j);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),i("".concat(e.t0));case 10:return e.prev=10,d(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])}))),[t.location.Key,j]);Object(u.useEffect)((function(){t.currentCondition||O()}),[t.currentCondition,O]);var x=Object(u.useMemo)((function(){return l?Object(ue.jsx)(ye,{}):t.currentCondition?Object(ue.jsx)(be,{favorite:t.location,data:t.currentCondition}):Object(ue.jsx)(fe,{error:c,onRemove:b})}),[t,c,l,b]);return Object(ue.jsxs)(Z.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",minWidth:320,height:300},children:[Object(ue.jsx)(pe,{editMode:n,title:t.location.LocalizedName,loading:l,onRemove:b,onRefresh:O}),x]})},Ie=n(50),we=n(176),Se=n(177),ke=n(178),_e=n(179),We=n(180),Me=n(175),Te=n(209),Ae=n(210),Ee=n(91),Pe=n(193);function Ke(e){var t=z();function n(n){t(_.set_theme(n)),e.onClose&&e.onClose({},"backdropClick")}return Object(ue.jsxs)(Ee.a,Object(g.a)(Object(g.a)({},e),{},{children:[Object(ue.jsx)(Pe.a,{onClick:function(){return n("default")},children:"System Default"}),Object(ue.jsx)(Pe.a,{onClick:function(){return n("light")},children:"Light"}),Object(ue.jsx)(Pe.a,{onClick:function(){return n("dark")},children:"Dark"})]}))}var De=function(e){var t=e.text,n=e.Icon,a=e.collapsed,r=Object(Ie.a)(e,["text","Icon","collapsed"]);return a?Object(ue.jsx)(ve.a,Object(g.a)(Object(g.a)({},r),{},{children:n})):Object(ue.jsx)(J.a,Object(g.a)(Object(g.a)({},r),{},{startIcon:n,children:t}))};function Re(e){var t=e.title,n=Object(V.e)(),a=Object(V.f)(),r=z(),c=Object(u.useState)(null),i=Object(M.a)(c,2),o=i[0],s=i[1],l=H((function(e){return e.configuration})).default_location,d=Object(Me.a)((function(e){return e.breakpoints.down("sm")})),j=H((function(e){return e.configuration})).theme,b=Object(u.useMemo)((function(){switch(n.pathname){case"/favorites":return"favorites";case"/":return"home";default:return"other"}}),[n.pathname]),h=Object(u.useMemo)((function(){switch(j){case"light":return we.a;case"dark":return Se.a;case"default":default:return ke.a}}),[j]);return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Te.a,{position:"static",children:Object(ue.jsxs)(Ae.a,{children:["home"!==b&&Object(ue.jsx)(ve.a,{size:"large",edge:"start",color:"inherit","aria-label":"home",sx:{mr:2},onClick:function(){return oe(l,"/")(r,a)},children:Object(ue.jsx)(_e.a,{})}),Object(ue.jsx)(ee.a,{variant:"h6",sx:{flexGrow:1},children:t}),"favorites"!==b&&Object(ue.jsx)(De,{Icon:Object(ue.jsx)(We.a,{}),text:"Favorites",collapsed:d,color:"inherit",onClick:function(){return a("/favorites")}}),Object(ue.jsx)(De,{Icon:Object(ue.jsx)(h,{}),text:"Theme",collapsed:d,sx:{mx:2},color:"inherit",onClick:function(e){return s(e.currentTarget)}})]})}),Object(ue.jsx)(Ke,{anchorEl:o,open:!!o,onClose:function(){return s(null)}})]})}function Fe(e,t){return function(n){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Re,Object(g.a)({},t)),Object(ue.jsx)(e,Object(g.a)({},n))]})}}var Ne=Fe((function(){var e=Object(u.useState)(!1),t=Object(M.a)(e,2),n=t[0],a=t[1],r=H((function(e){return e.favorites})).favorites;return Object(ue.jsxs)(B.a,{maxWidth:"xl",sx:{my:2},children:[Object(ue.jsx)(J.a,{sx:{my:2},startIcon:n?Object(ue.jsx)(q.a,{}):Object(ue.jsx)(G.a,{}),onClick:function(){return a(!n)},children:n?"Done":"Edit"}),Object(ue.jsx)(Y.a,{container:!0,flexDirection:"row",justifyContent:"flex-start",spacing:2,children:Object.entries(r).map((function(e){var t=Object(M.a)(e,2),a=t[0],r=t[1];return Object(ue.jsx)(Y.a,{item:!0,sm:12,md:6,lg:4,xl:3,flexGrow:1,children:Object(ue.jsx)(Ce,{data:r,editMode:n})},a)}))})]})}),{title:"Favorites"});var Le=function(){return Object(ue.jsx)(Ne,{})},ze=n(183),He=n(190),Ue=n(191);function Ve(e,t){return qe.apply(this,arguments)}function qe(){return(qe=Object(f.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams([["apikey",y.accuWeatherAPIKey],["q",t]]),n&&a.append("language",n),r="https://dataservice.accuweather.com/locations/v1/cities/autocomplete?".concat(a.toString()),e.next=5,fetch(r);case 5:return e.abrupt("return",e.sent.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge=function(e){var t=Object(u.useState)([]),n=Object(M.a)(t,2),a=n[0],r=n[1],c=Object(u.useState)(!1),i=Object(M.a)(c,2),o=i[0],s=i[1],l=Object(u.useState)(null),d=Object(M.a)(l,2),j=d[0],b=d[1];return{predictions:a,error:j,loading:o,getPredictions:Object(u.useCallback)(function(){var t=Object(f.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,Ve(n,null===e||void 0===e?void 0:e.language);case 4:a=t.sent,r(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),b(t.t0);case 11:return t.prev=11,s(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}(),[null===e||void 0===e?void 0:e.language])}};function Be(e){var t,n=e.option,a=Object(Ie.a)(e,["option"]);return Object(ue.jsx)("li",Object(g.a)(Object(g.a)({},a),{},{children:Object(ue.jsxs)(Y.a,{container:!0,alignItems:"center",spacing:2,children:[Object(ue.jsxs)(Y.a,{item:!0,children:[" ",Object(ue.jsx)(ze.a,{color:"secondary"})," "]}),Object(ue.jsx)(Y.a,{item:!0,xs:!0,children:Object(ue.jsxs)(ee.a,{variant:"body1",children:[Object(ue.jsx)("span",{style:{fontWeight:700},children:n.LocalizedName}),Object(ue.jsxs)("span",{children:[", ",n.AdministrativeArea.LocalizedName]}),Object(ue.jsxs)("span",{style:{color:"grey"},children:[", ",(t=n.Country.ID,t.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(127397+e.charCodeAt(0))})))]})]})})]})}))}function Je(){var e=Object(u.useState)(""),t=Object(M.a)(e,2),n=t[0],a=t[1],r=Ge(),c=r.predictions,i=r.loading,o=r.getPredictions,s=z(),l=Object(V.f)();return Object(ue.jsx)(He.a,{fullWidth:!0,autoComplete:!0,options:c,filterOptions:function(e){return e},onChange:function(e,t){return t&&function(e){var t=e.Key,n=e.LocalizedName;oe({Key:t,LocalizedName:n})(s,l)}(t)},getOptionLabel:function(e){return e.LocalizedName},isOptionEqualToValue:function(e,t){return e.Key===t.Key},renderInput:function(e){return Object(ue.jsx)(Ue.a,Object(g.a)(Object(g.a)({},e),{},{value:n,fullWidth:!0,variant:"filled",label:"Search for a location",onChange:function(e){return t=e.target.value,a(t),void o(t);var t},InputProps:Object(g.a)(Object(g.a)({},e.InputProps),{},{type:"search",endAdornment:i&&Object(ue.jsx)(X.a,{size:24})})}))},renderOption:function(e,t){return Object(ue.jsx)(Be,Object(g.a)(Object(g.a)({},e),{},{option:t}))}})}var Ye=n(212),Qe=function(e,t,n){return function(){var a=Object(f.a)(h.a.mark((function a(r){var c,i,o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=new URLSearchParams([["apikey",y.accuWeatherAPIKey],["details","true"]]),n&&c.append("language",n),"Metric"===t&&c.append("metric","true"),i="https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?").concat(c.toString()),a.prev=4,a.next=7,fetch(i);case 7:return a.next=9,a.sent.json();case 9:return o=a.sent,r(F.set_forecast(o)),a.abrupt("return",o);case 14:throw a.prev=14,a.t0=a.catch(4),r(F.set_forecast(null)),Error("".concat(a.t0));case 18:case"end":return a.stop()}}),a,null,[[4,14]])})));return function(e){return a.apply(this,arguments)}}()},Xe=n(194),Ze=Object(u.createContext)({}),$e=function(e){var t=e.children,n=Object(u.useState)(!1),a=Object(M.a)(n,2),r=a[0],c=a[1],i=Object(u.useState)(""),o=Object(M.a)(i,2),s=o[0],l=o[1],d=Object(u.useState)(),j=Object(M.a)(d,2),b=j[0],h=j[1],f=Object(u.useCallback)((function(){c(!1),(null===b||void 0===b?void 0:b.onDismiss)&&b.onDismiss()}),[b]),O=Object(u.useMemo)((function(){return{close:f}}),[f]),x=Object(u.useCallback)((function(e,t){c(!1),h(t),l(e),c(!0)}),[]);return Object(ue.jsxs)(Ze.Provider,{value:{snackbar:x,snackbarHandler:O},children:[Object(ue.jsx)(Xe.a,{open:r,message:s,onClose:f,autoHideDuration:null===b||void 0===b?void 0:b.autoHideDuration,anchorOrigin:{horizontal:"center",vertical:"bottom"},action:Object(ue.jsx)(ue.Fragment,{children:null===b||void 0===b?void 0:b.buttons})}),t]})},et=function(){return Object(u.useContext)(Ze)},tt=function(e){var t=e.min,n=e.max,a=e.unit,r=Object(Ie.a)(e,["min","max","unit"]);return Object(ue.jsxs)(ee.a,Object(g.a)(Object(g.a)({},r),{},{children:[n?"".concat(n,"\xb0").concat(a):"N/A"," \\ ",t?"".concat(t,"\xb0").concat(a):"N/A"]}))};function nt(e){var t=e.color,n=e.day,a=e.weatherText,r=e.iconSize,c=e.Temperature,i=e.iconIndex,o=Object(u.useMemo)((function(){return i?ae[i].Icon:null}),[i]);return Object(ue.jsxs)(se.a,{display:"block",children:[o&&Object(ue.jsx)(o,{size:r,color:t,style:{position:"absolute",paddingTop:16,paddingLeft:16}}),Object(ue.jsx)(ee.a,{variant:"h5",color:t,sx:{position:"relative",width:"100%",textAlign:"right",px:2,pt:2,pb:1},children:n}),Object(ue.jsx)(ee.a,{variant:"body2",color:t,sx:{position:"relative",width:"100%",textAlign:"right",px:2},children:a}),Object(ue.jsx)(tt,{variant:"h5",color:t,textAlign:"right",sx:{px:2,pb:1},min:c.Minimum.Value,max:c.Maximum.Value,unit:c.Maximum.Unit})]})}function at(e){var t=e.data,n=e.time,a=e.index,r=H((function(e){return e.configuration})).show_night,c=Object(u.useMemo)((function(){return r?t.Night.Icon:t.Day.Icon}),[t.Day.Icon,t.Night.Icon,r]),i=Object(u.useMemo)((function(){return ie(c)}),[c]),o=i.color,s=i.background,l=Object(u.useMemo)((function(){return(e=a,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][((new Date).getDay()+e)%7]).substr(0,3);var e}),[a]);return Object(ue.jsx)(Z.a,{sx:{minWidth:210,background:s},children:Object(ue.jsx)(nt,{iconSize:64,color:o,day:l,weatherText:t[n].IconPhrase,Temperature:t.Temperature,iconIndex:c})})}function rt(e){var t=e.data,n=e.time;return Object(ue.jsx)(Y.a,{container:!0,spacing:2,justifyContent:"space-around",children:t.map((function(e,t){return Object(ue.jsx)(Y.a,{item:!0,xs:!0,children:Object(ue.jsx)(at,{data:e,index:t,time:n},t)})}))})}var ct=n(185),it=n(186),ot=n(187),st=n(188);function ut(e){var t=e.location,n=e.onRefresh,a=H((function(e){return e.configuration})),r=a.show_night,c=a.unit,i=H((function(e){return e.favorites})).favorites,o=z(),s=Object(u.useMemo)((function(){return Object.keys(i).includes(t.Key)}),[i,t.Key]),l=ie(r?1:33).color;return Object(ue.jsxs)(he.a,{sx:{float:"right"},children:[Object(ue.jsx)(J.a,{variant:s?"text":"contained",startIcon:s?Object(ue.jsx)(ct.a,{}):Object(ue.jsx)(We.a,{}),onClick:function(){return o(s?P.remove_favorite(t.Key):P.add_favorite(t))},children:s?"Remove Favorite":"Add Favorite"}),Object(ue.jsx)(J.a,{startIcon:Object(ue.jsx)(it.a,{}),onClick:function(){var e="Metric"===c?"Imperial":"Metric";o(_.set_unit(e)),n(e)},children:"Metric"===c?"F":"C"}),Object(ue.jsx)(ve.a,{sx:{color:l},onClick:function(){return o(_.set_night(!r))},children:r?Object(ue.jsx)(ot.a,{}):Object(ue.jsx)(st.a,{})})]})}var lt=n(197);function dt(){return Object(ue.jsxs)(Z.a,{sx:{flexGrow:1},children:[Object(ue.jsx)(he.a,{}),Object(ue.jsx)(lt.a,{width:"100%",height:165}),Object(ue.jsxs)(Q.a,{children:[Object(ue.jsx)("div",{style:{height:250}}),Object(ue.jsx)(Y.a,{container:!0,spacing:2,justifyContent:"space-around",children:Array(5).fill(null).map((function(e,t){return Object(ue.jsx)(Y.a,{item:!0,xs:!0,children:Object(ue.jsx)(lt.a,{height:250,sx:{minWidth:180,p:1}})},t)}))})]})]})}function jt(e){var t=e.color,n=e.text,a=e.iconSize,r=e.Temperature,c=e.WeatherIcon,i=Object(u.useMemo)((function(){return c?ae[c].Icon:null}),[c]);return Object(ue.jsxs)(se.a,{display:"block",children:[i&&Object(ue.jsx)(i,{size:a,color:t,style:{position:"absolute",paddingTop:16,paddingLeft:16}}),Object(ue.jsx)(ee.a,{variant:"h5",color:t,sx:{position:"relative",width:"100%",textAlign:"right",px:2,pt:2,pb:1},children:n}),Object(ue.jsx)(ee.a,{variant:"h3",color:t,sx:{position:"relative",width:"100%",textAlign:"right",px:2,pt:1,pb:2},children:r.Value?"".concat(r.Value,"\xb0").concat(r.Unit):"N/A"})]})}var bt=function(e){var t=e.color,n=e.text,a=e.small;return Object(ue.jsx)(Y.a,{item:!0,container:!0,sx:{height:250},justifyContent:"center",alignContent:"center",children:Object(ue.jsx)(Y.a,{item:!0,children:Object(ue.jsx)(ee.a,{variant:a?"h5":"h4",color:t,textAlign:"center",children:n})})})},ht=Object(u.memo)((function(e){var t=e.id,n=Object(u.useState)(!0),a=Object(M.a)(n,2),r=a[0],c=a[1],i=H((function(e){return e.configuration})).default_location,o=H((function(e){return e.configuration})),s=o.unit,l=o.show_night,d=H((function(e){return e.forecast})),j=d.location,b=d.forecast,O=Object(Me.a)((function(e){return e.breakpoints.down("sm")})),x=z(),m=Object(V.f)(),v=et(),p=v.snackbar,g=v.snackbarHandler,y=Object(u.useCallback)(function(){var e=Object(f.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,Qe(t,null!==n&&void 0!==n?n:s)(x);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),oe(i,"/")(x,m),p("".concat(e.t0),{buttons:[Object(ue.jsx)(J.a,{color:"secondary",onClick:g.close,children:"Dismiss"})]});case 10:return e.prev=10,c(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})));return function(t){return e.apply(this,arguments)}}(),[i,x,t,m,p,g.close,s]);Object(u.useEffect)((function(){y()}),[]);var C=Object(u.useMemo)((function(){return l?"Night":"Day"}),[l]),I=Object(u.useMemo)((function(){return ie(b?b.DailyForecasts[0][C].Icon:null)}),[C,b]),w=I.color,S=I.background;return Object(ue.jsx)(B.a,{maxWidth:"lg",sx:{display:"flex"},children:r?Object(ue.jsx)(dt,{}):Object(ue.jsx)(Z.a,{sx:{flexGrow:1},children:b&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(ut,{location:j,onRefresh:y}),Object(ue.jsxs)(se.a,{sx:{},children:[Object(ue.jsx)(Y.a,{container:!0,component:Ye.a,sx:{background:S},alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap",children:Object(ue.jsx)(se.a,{sx:{left:0,width:320},children:Object(ue.jsx)(jt,{iconSize:96,text:j.LocalizedName,Temperature:{Value:b.DailyForecasts[0].Temperature.Maximum.Value,Unit:b.DailyForecasts[0].Temperature.Maximum.Unit},WeatherIcon:b.DailyForecasts[0][C].Icon,color:w})})}),Object(ue.jsxs)(Q.a,{children:[Object(ue.jsx)(bt,{color:w,small:O,text:b.Headline.Text}),Object(ue.jsx)(rt,{data:b.DailyForecasts,time:C})]})]})]})})})}),(function(e,t){return e.id!==t.id}));function ft(){var e=Object(V.g)();return e.id?Object(ue.jsx)(ht,{id:e.id}):null}var Ot=Fe((function(){var e=H((function(e){return e.configuration})).default_location;return Object(ue.jsxs)(Y.a,{container:!0,direction:"row",spacing:2,sx:{p:2},justifyContent:"center",children:[Object(ue.jsx)(Y.a,{item:!0,xs:!0,alignSelf:"center",maxWidth:500,children:Object(ue.jsx)(Je,{})}),Object(ue.jsx)(Y.a,{item:!0,xs:12,justifyContent:"center",children:Object(ue.jsxs)(V.c,{children:[Object(ue.jsx)(V.a,{path:"forecast/:id",element:Object(ue.jsx)(ft,{})}),Object(ue.jsx)(V.a,{path:"*",element:Object(ue.jsx)(ht,{id:e.Key})})]})})]})}),{title:"Herolo Weather App"});function xt(){return Object(ue.jsx)(U.a,{children:Object(ue.jsxs)(V.c,{children:[Object(ue.jsx)(V.a,{path:"/*",element:Object(ue.jsx)(Ot,{})}),Object(ue.jsx)(V.a,{path:"/favorites",element:Object(ue.jsx)(Le,{})})]})})}var mt=function(e,t){return function(){var n=Object(f.a)(h.a.mark((function n(a){var r,c,i,o,s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new URLSearchParams([["apikey",y.accuWeatherAPIKey],["q","".concat(e,",").concat(t)],["details","true"]]),c="https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?".concat(r.toString()),n.prev=2,n.next=5,fetch(c);case 5:return n.next=7,n.sent.json();case 7:return i=n.sent,o=i.Key,s=i.LocalizedName,a(_.set_default_location({Key:o,LocalizedName:s})),n.abrupt("return",{Key:o,LocalizedName:s});case 14:throw n.prev=14,n.t0=n.catch(2),Error("Can't get geolocation data");case 17:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e){return n.apply(this,arguments)}}()};function vt(){var e=H((function(e){return e.configuration})),t=Object(x.a)({palette:{mode:re(e.theme)}});return Object(ue.jsxs)(m.a,{theme:t,children:[Object(ue.jsx)(v.a,{}),Object(ue.jsx)($e,{children:navigator.geolocation?Object(ue.jsx)(pt,{}):Object(ue.jsx)(xt,{})})]})}function pt(){var e=et().snackbar,t=z();return Object(u.useEffect)((function(){navigator.geolocation.getCurrentPosition(function(){var n=Object(f.a)(h.a.mark((function n(a){var r,c,i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.coords,c=r.latitude,i=r.longitude,n.prev=1,n.next=4,mt(c,i)(t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),e("".concat(n.t0));case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}(),(function(){return e("Can't get your location, please enable geolocation access")}))}),[t,e]),Object(ue.jsx)(xt,{})}var gt=function(){return Object(ue.jsx)(O.a,{store:L,children:Object(ue.jsx)(vt,{})})},yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};j.a.render(Object(ue.jsx)(l.a.StrictMode,{children:Object(ue.jsx)(gt,{})}),document.getElementById("root")),yt()}},[[122,1,2]]]);
//# sourceMappingURL=main.29fba87b.chunk.js.map